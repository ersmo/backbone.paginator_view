this.JST=this.JST||{},this.JST.paginator=function(a){var b=[],c=a||{},d=c.dictionary,e=c.lang,f=c.formatNumber,g=c.collection;if(b.push('<div class="pagination pagination-small"><span>'+jade.escape(null==(jade.interp=d.total[e])?"":jade.interp)+" "+jade.escape(null==(jade.interp=f(g.totalRecords))?"":jade.interp)+" "+jade.escape(null==(jade.interp=d.records[e])?"":jade.interp)+", "+jade.escape(null==(jade.interp=g.totalPages)?"":jade.interp)+" "+jade.escape(null==(jade.interp=d.pages[e])?"":jade.interp)+" &nbsp;</span>"),g.totalPages>1){b.push("<ul>"),1==g.currentPage?b.push('<li class="disabled"><a class="first">'+jade.escape(null==(jade.interp=d.firstPage[e])?"":jade.interp)+'</a></li><li class="disabled"><a class="previous">'+jade.escape(null==(jade.interp=d.previousPage[e])?"":jade.interp)+"</a></li>"):b.push('<li><a class="first">'+jade.escape(null==(jade.interp=d.firstPage[e])?"":jade.interp)+'</a></li><li><a class="previous">'+jade.escape(null==(jade.interp=d.previousPage[e])?"":jade.interp)+"</a></li>");var h=g.currentPage-g.pagesInRange,i=g.currentPage+g.pagesInRange;h=h>0?h:1,i=i<=g.totalPages?i:g.totalPages;for(var j=h;i>=j;j++)g.currentPage==j?b.push('<li class="active"><a class="number">'+jade.escape(null==(jade.interp=j)?"":jade.interp)+"</a></li>"):b.push('<li><a class="number">'+jade.escape(null==(jade.interp=j)?"":jade.interp)+"</a></li>");g.currentPage==g.totalPages?b.push('<li class="disabled"><a class="next">'+jade.escape(null==(jade.interp=d.nextPage[e])?"":jade.interp)+'</a></li><li class="disabled"><a class="last">'+jade.escape(null==(jade.interp=d.lastPage[e])?"":jade.interp)+"</a></li>"):b.push('<li><a class="next">'+jade.escape(null==(jade.interp=d.nextPage[e])?"":jade.interp)+'</a></li><li><a class="last">'+jade.escape(null==(jade.interp=d.lastPage[e])?"":jade.interp)+"</a></li>"),b.push("</ul>")}return b.push("</div>"),b.join("")},function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};Backbone.PaginatorView=function(c){function e(){return this.gotoPage=b(this.gotoPage,this),this.gotoNextPage=b(this.gotoNextPage,this),this.gotoPreviousPage=b(this.gotoPreviousPage,this),this.gotoLastPage=b(this.gotoLastPage,this),this.gotoFirstPage=b(this.gotoFirstPage,this),this.gotoNumber=b(this.gotoNumber,this),this.render=b(this.render,this),this.initialize=b(this.initialize,this),a=e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.template=JST.paginator,e.prototype.events={"click .pagination a.number":"gotoNumber","click .pagination a.first":"gotoFirstPage","click .pagination a.last":"gotoLastPage","click .pagination a.previous":"gotoPreviousPage","click .pagination a.next":"gotoNextPage"},e.prototype.defaults={lang:"en"},e.prototype.dictionary={total:{en:"Total",cn:"共"},records:{en:"records",cn:"條記錄"},pages:{en:"pages",cn:"頁"},firstPage:{en:"First",cn:"首頁"},previousPage:{en:"Prev",cn:"上頁"},nextPage:{en:"Next",cn:"下頁"},lastPage:{en:"Last",cn:"尾頁"}},e.prototype.initialize=function(){return this.options=_.defaults(this.options,this.defaults),this.listenTo(this.collection,"reset sync",this.render)},e.prototype.render=function(){return this.$el.html(this.template({collection:this.collection,dictionary:this.dictionary,lang:this.options.lang,formatNumber:function(a){return a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}})),this},e.prototype.gotoNumber=function(a){var b;return b=parseInt($(a.currentTarget).text()),this.gotoPage(a,b)},e.prototype.gotoFirstPage=function(a){var b;return b=this.collection.firstPage,this.gotoPage(a,b)},e.prototype.gotoLastPage=function(a){var b;return b=this.collection.totalPages,this.gotoPage(a,b)},e.prototype.gotoPreviousPage=function(a){var b;return b=this.collection.currentPage>1?this.collection.currentPage-1:1,this.gotoPage(a,b)},e.prototype.gotoNextPage=function(a){var b;return b=this.collection.currentPage<this.collection.totalPages?this.collection.currentPage+1:this.collection.totalPages,this.gotoPage(a,b)},e.prototype.gotoPage=function(a,b){return a.preventDefault(),"disabled"!==$(a.currentTarget).parent().attr("class")?(this.collection.currentPage=b,this.collection.goTo(b)):void 0},e}(Backbone.View)}.call(this);